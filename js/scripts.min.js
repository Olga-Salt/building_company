!(function (e) {
  "function" == typeof define && define.amd
    ? define(["jquery"], e)
    : e("object" == typeof exports ? require("jquery") : jQuery);
})(function (e) {
  var t,
    r = navigator.userAgent,
    n = /iphone/i.test(r),
    a = /chrome/i.test(r),
    o = /android/i.test(r);
  (e.mask = {
    definitions: {
      9: "[0-9]",
      a: "[A-Za-z]",
      "*": "[A-Za-z0-9]",
    },
    autoclear: !0,
    dataName: "rawMaskFn",
    placeholder: "_",
  }),
    e.fn.extend({
      caret: function (e, t) {
        var r;
        if (0 !== this.length && !this.is(":hidden"))
          return "number" == typeof e
            ? ((t = "number" == typeof t ? t : e),
              this.each(function () {
                this.setSelectionRange
                  ? this.setSelectionRange(e, t)
                  : this.createTextRange &&
                    ((r = this.createTextRange()).collapse(!0),
                    r.moveEnd("character", t),
                    r.moveStart("character", e),
                    r.select());
              }))
            : (this[0].setSelectionRange
                ? ((e = this[0].selectionStart), (t = this[0].selectionEnd))
                : document.selection &&
                  document.selection.createRange &&
                  ((r = document.selection.createRange()),
                  (e = 0 - r.duplicate().moveStart("character", -1e5)),
                  (t = e + r.text.length)),
              {
                begin: e,
                end: t,
              });
      },
      unmask: function () {
        return this.trigger("unmask");
      },
      mask: function (r, i) {
        var s, l, c, u, m, f, g;
        if (!r && this.length > 0) {
          var d = e(this[0]).data(e.mask.dataName);
          return d ? d() : void 0;
        }
        return (
          (i = e.extend(
            {
              autoclear: e.mask.autoclear,
              placeholder: e.mask.placeholder,
              completed: null,
            },
            i
          )),
          (s = e.mask.definitions),
          (l = []),
          (c = f = r.length),
          (u = null),
          e.each(r.split(""), function (e, t) {
            "?" == t
              ? (f--, (c = e))
              : s[t]
              ? (l.push(new RegExp(s[t])),
                null === u && (u = l.length - 1),
                c > e && (m = l.length - 1))
              : l.push(null);
          }),
          this.trigger("unmask").each(function () {
            function d() {
              if (i.completed) {
                for (var e = u; m >= e; e++) if (l[e] && k[e] === h(e)) return;
                i.completed.call(S);
              }
            }

            function h(e) {
              return i.placeholder.charAt(e < i.placeholder.length ? e : 0);
            }

            function p(e) {
              for (; ++e < f && !l[e]; );
              return e;
            }

            function v(e, t) {
              var r, n;
              if (!(0 > e)) {
                for (r = e, n = p(t); f > r; r++)
                  if (l[r]) {
                    if (!(f > n && l[r].test(k[n]))) break;
                    (k[r] = k[n]), (k[n] = h(n)), (n = p(n));
                  }
                w(), S.caret(Math.max(u, e));
              }
            }

            function b() {
              E(), S.val() != $ && S.change();
            }

            function y(e, t) {
              var r;
              for (r = e; t > r && f > r; r++) l[r] && (k[r] = h(r));
            }

            function w() {
              S.val(k.join(""));
            }

            function E(e) {
              var t,
                r,
                n,
                a = S.val(),
                o = -1;
              for (t = 0, n = 0; f > t; t++)
                if (l[t]) {
                  for (k[t] = h(t); n++ < a.length; )
                    if (((r = a.charAt(n - 1)), l[t].test(r))) {
                      (k[t] = r), (o = t);
                      break;
                    }
                  if (n > a.length) {
                    y(t + 1, f);
                    break;
                  }
                } else k[t] === a.charAt(n) && n++, c > t && (o = t);
              return (
                e
                  ? w()
                  : c > o + 1
                  ? i.autoclear || k.join("") === x
                    ? (S.val() && S.val(""), y(0, f))
                    : w()
                  : (w(), S.val(S.val().substring(0, o + 1))),
                c ? t : u
              );
            }
            var S = e(this),
              k = e.map(r.split(""), function (e, t) {
                return "?" != e ? (s[e] ? h(t) : e) : void 0;
              }),
              x = k.join(""),
              $ = S.val();
            S.data(e.mask.dataName, function () {
              return e
                .map(k, function (e, t) {
                  return l[t] && e != h(t) ? e : null;
                })
                .join("");
            }),
              S.one("unmask", function () {
                S.off(".mask").removeData(e.mask.dataName);
              })
                .on("focus.mask", function () {
                  var e;
                  S.prop("readonly") ||
                    (clearTimeout(t),
                    ($ = S.val()),
                    (e = E()),
                    (t = setTimeout(function () {
                      S.get(0) === document.activeElement &&
                        (w(),
                        e == r.replace("?", "").length
                          ? S.caret(0, e)
                          : S.caret(e));
                    }, 10)));
                })
                .on("blur.mask", b)
                .on("keydown.mask", function (e) {
                  if (!S.prop("readonly")) {
                    var t,
                      r,
                      a,
                      o = e.which || e.keyCode;
                    (g = S.val()),
                      8 === o || 46 === o || (n && 127 === o)
                        ? ((r = (t = S.caret()).begin),
                          (a = t.end) - r == 0 &&
                            ((r =
                              46 !== o
                                ? (function (e) {
                                    for (; --e >= 0 && !l[e]; );
                                    return e;
                                  })(r)
                                : (a = p(r - 1))),
                            (a = 46 === o ? p(a) : a)),
                          y(r, a),
                          v(r, a - 1),
                          e.preventDefault())
                        : 13 === o
                        ? b.call(this, e)
                        : 27 === o &&
                          (S.val($), S.caret(0, E()), e.preventDefault());
                  }
                })
                .on("keypress.mask", function (t) {
                  if (!S.prop("readonly")) {
                    var r,
                      n,
                      a,
                      i = t.which || t.keyCode,
                      s = S.caret();
                    t.ctrlKey ||
                      t.altKey ||
                      t.metaKey ||
                      32 > i ||
                      !i ||
                      13 === i ||
                      (s.end - s.begin != 0 &&
                        (y(s.begin, s.end), v(s.begin, s.end - 1)),
                      (r = p(s.begin - 1)),
                      f > r &&
                        ((n = String.fromCharCode(i)), l[r].test(n)) &&
                        ((function (e) {
                          var t, n, a, o;
                          for (t = r, n = h(r); f > t; t++)
                            if (l[t]) {
                              if (
                                ((a = p(t)),
                                (o = k[t]),
                                (k[t] = n),
                                !(f > a && l[a].test(o)))
                              )
                                break;
                              n = o;
                            }
                        })(),
                        (k[r] = n),
                        w(),
                        (a = p(r)),
                        o
                          ? setTimeout(function () {
                              e.proxy(e.fn.caret, S, a)();
                            }, 0)
                          : S.caret(a),
                        s.begin <= m && d()),
                      t.preventDefault());
                  }
                })
                .on("input.mask paste.mask", function () {
                  S.prop("readonly") ||
                    setTimeout(function () {
                      var e = E(!0);
                      S.caret(e), d();
                    }, 0);
                }),
              a &&
                o &&
                S.off("input.mask").on("input.mask", function () {
                  var e = S.val(),
                    t = S.caret();
                  if (g && g.length && g.length > e.length) {
                    for (E(!0); t.begin > 0 && !l[t.begin - 1]; ) t.begin--;
                    if (0 === t.begin)
                      for (; t.begin < u && !l[t.begin]; ) t.begin++;
                    S.caret(t.begin, t.begin);
                  } else {
                    for (E(!0); t.begin < f && !l[t.begin]; ) t.begin++;
                    S.caret(t.begin, t.begin);
                  }
                  d();
                }),
              E();
          })
        );
      },
    });
}),
  (function (e, t) {
    "function" == typeof define && define.amd
      ? define([], t(e))
      : "object" == typeof exports
      ? (module.exports = t(e))
      : (e.validate = t(e));
  })(
    "undefined" != typeof global ? global : this.window || this.global,
    function (e) {
      "use strict";
      var t,
        r = {},
        n = "querySelector" in document && "addEventListener" in e,
        a = {
          selector: "[data-validate]",
          fieldClass: "error",
          errorClass: "error-message",
          messageValueMissing: "Please fill out this field.",
          messageValueMissingSelect: "Please select a value.",
          messageValueMissingSelectMulti: "Please select at least one value.",
          messageTypeMismatchEmail: "Please enter an email address.",
          messageTypeMismatchURL: "Please enter a URL.",
          messageTooShort:
            "Please lengthen this text to {minLength} characters or more. You are currently using {length} characters.",
          messageTooLong:
            "Please shorten this text to no more than {maxLength} characters. You are currently using {length} characters.",
          messagePatternMismatch: "Please match the requested format.",
          messageBadInput: "Please enter a number.",
          messageStepMismatch: "Please select a valid value.",
          messageRangeOverflow:
            "Please select a value that is no more than {max}.",
          messageRangeUnderflow:
            "Please select a value that is no less than {min}.",
          messageGeneric: "The value you entered for this field is invalid.",
          disableSubmit: !1,
          onSubmit: function () {},
          beforeShowError: function () {},
          afterShowError: function () {},
          beforeRemoveError: function () {},
          afterRemoveError: function () {},
        };
      Element.prototype.matches ||
        (Element.prototype.matches =
          Element.prototype.matchesSelector ||
          Element.prototype.mozMatchesSelector ||
          Element.prototype.msMatchesSelector ||
          Element.prototype.oMatchesSelector ||
          Element.prototype.webkitMatchesSelector ||
          function (e) {
            for (
              var t = (this.document || this.ownerDocument).querySelectorAll(e),
                r = t.length;
              --r >= 0 && t.item(r) !== this;

            );
            return r > -1;
          });
      var o = function () {
        var e = {},
          t = !1,
          r = 0,
          n = arguments.length;
        "[object Boolean]" === Object.prototype.toString.call(arguments[0]) &&
          ((t = arguments[0]), r++);
        for (
          var a = function (r) {
            for (var n in r)
              Object.prototype.hasOwnProperty.call(r, n) &&
                (t && "[object Object]" === Object.prototype.toString.call(r[n])
                  ? (e[n] = o(!0, e[n], r[n]))
                  : (e[n] = r[n]));
          };
          r < n;
          r++
        )
          a(arguments[r]);
        return e;
      };
      (r.hasError = function (e, r) {
        var n = o(t || a, r || {});
        if (
          !e.disabled &&
          "file" !== e.type &&
          "reset" !== e.type &&
          "submit" !== e.type &&
          "button" !== e.type
        ) {
          var i = e.validity;
          if (!i.valid) {
            if (i.valueMissing)
              return "select-multiple" === e.type
                ? n.messageValueMissingSelectMulti
                : "select-one" === e.type
                ? n.messageValueMissingSelect
                : n.messageValueMissing;
            if (i.typeMismatch) {
              if ("email" === e.type) return n.messageTypeMismatchEmail;
              if ("url" === e.type) return n.messageTypeMismatchURL;
            }
            return i.tooShort
              ? n.messageTooShort
                  .replace("{minLength}", e.getAttribute("minLength"))
                  .replace("{length}", e.value.length)
              : i.tooLong
              ? n.messageTooLong
                  .replace("{minLength}", e.getAttribute("maxLength"))
                  .replace("{length}", e.value.length)
              : i.badInput
              ? n.messageBadInput
              : i.stepMismatch
              ? n.messageStepMismatch
              : i.rangeOverflow
              ? n.messageRangeOverflow.replace("{max}", e.getAttribute("max"))
              : i.rangeUnderflow
              ? n.messageRangeUnderflow.replace("{min}", e.getAttribute("min"))
              : i.patternMismatch
              ? e.hasAttribute("title")
                ? e.getAttribute("title")
                : n.messagePatternMismatch
              : n.messageGeneric;
          }
        }
      }),
        (r.showError = function (e, r, n) {
          var i = o(t || a, n || {});
          if (
            (i.beforeShowError(e, r),
            e.classList.add(i.fieldClass),
            "radio" === e.type && e.name)
          ) {
            var s = document.getElementsByName(e.name);
            if (s.length > 0) {
              for (var l = 0; l < s.length; l++)
                s[l].form === e.form && s[l].classList.add(i.fieldClass);
              e = s[s.length - 1];
            }
          }
          var c = e.id || e.name;
          if (c) {
            var u,
              m = e.form.querySelector("." + i.errorClass + "#error-for-" + c);
            m ||
              (((m = document.createElement("div")).className = i.errorClass),
              (m.id = "error-for-" + c),
              ("radio" !== e.type && "checkbox" !== e.type) ||
                ((u =
                  e.form.querySelector('label[for="' + c + '"]') ||
                  (function (e, t) {
                    for (; e && e !== document; e = e.parentNode)
                      if (e.matches("label")) return e;
                    return null;
                  })(e)) &&
                  u.parentNode.insertBefore(m, u.nextSibling)),
              u || e.parentNode.insertBefore(m, e.nextSibling)),
              e.setAttribute("aria-describedby", "error-for-" + c),
              (m.innerHTML = r),
              (m.style.display = ""),
              (m.style.visibility = ""),
              i.afterShowError(e, r);
          }
        }),
        (r.removeError = function (e, r) {
          var n = o(t || a, r || {});
          if (
            (n.beforeRemoveError(e),
            e.removeAttribute("aria-describedby"),
            e.classList.remove(n.fieldClass),
            "radio" === e.type && e.name)
          ) {
            var i = document.getElementsByName(e.name);
            if (i.length > 0) {
              for (var s = 0; s < i.length; s++)
                i[s].form === e.form && i[s].classList.remove(n.fieldClass);
              e = i[i.length - 1];
            }
          }
          var l = e.id || e.name;
          if (l) {
            var c = e.form.querySelector(
              "." + n.errorClass + "#error-for-" + l
            );
            c &&
              ((c.innerHTML = ""),
              (c.style.display = "none"),
              (c.style.visibility = "hidden"),
              n.afterRemoveError(e));
          }
        });
      var i = function (e) {
          for (
            var r = document.querySelectorAll(t.selector), n = 0;
            n < r.length;
            n++
          )
            e
              ? r[n].removeAttribute("novalidate")
              : r[n].setAttribute("novalidate", !0);
        },
        s = function (e) {
          if (e.target.form && e.target.form.matches(t.selector)) {
            var n = r.hasError(e.target);
            n ? r.showError(e.target, n) : r.removeError(e.target);
          }
        },
        l = function (e) {
          if (e.target.form && e.target.form.matches(t.selector)) {
            var n = e.target.getAttribute("type");
            if ("checkbox" === n || "radio" === n) {
              var a = r.hasError(e.target);
              a ? r.showError(e.target, a) : r.removeError(e.target);
            }
          }
        },
        c = function (e) {
          if (e.target.matches(t.selector)) {
            for (var n, a = e.target.elements, o = 0; o < a.length; o++) {
              var i = r.hasError(a[o]);
              i && (r.showError(a[o], i), n || (n = a[o]));
            }
            (n || t.disableSubmit) && e.preventDefault(),
              n ? n.focus() : t.onSubmit(e.target, a);
          }
        };
      return (
        (r.destroy = function () {
          if (t) {
            document.removeEventListener("blur", s, !1),
              document.removeEventListener("click", l, !0),
              document.removeEventListener("submit", c, !1);
            for (
              var e = document.querySelectorAll(t.errorClass), n = 0;
              n < e.length;
              n++
            )
              r.removeError(e[n]);
            i(!0), (t = null);
          }
        }),
        (r.init = function (e) {
          n &&
            (r.destroy(),
            (t = o(a, e || {})),
            i(),
            document.addEventListener("blur", s, !0),
            document.addEventListener("click", l, !0),
            document.addEventListener("submit", c, !1));
        }),
        r
      );
    }
  ),
  $(function () {
    $("body").css({
      opacity: "1",
      "background-image": "url(img/bgi2.png)",
    }),
      $("#mobile-burger").click(function () {
        $(this).toggleClass("open"),
          $(".mobile__menu").toggleClass("is-active");
      }),
      $(".mobile__menu li a").click(function () {
        setTimeout(function () {
          $("#mobile-burger").toggleClass("open"),
            $(".mobile__menu").toggleClass("is-active");
        }, 500);
      }),
      AOS.init({
        once: !0,
      }),
      $("#modal-custom").iziModal({
        overlayClose: !0,
        transitionIn: "fadeIn",
        transitionOut: "fadeOut",
        transitionInOverlay: "fadeIn",
        transitionOutOverlay: "fadeOut",
      }),
      validate.init({
        disableSubmit: !0,
        onSubmit: function () {
          $("form").trigger("reset"),
            $(".success__container").addClass("flex"),
            setTimeout(function () {
              $(".success__container").removeClass("flex");
            }, 3e3);
        },
      }),
      $(".order__form").submit(function (e) {
        var t = $(this).serialize();

        var options = {
          year: "numeric",
          month: "long",
          day: "numeric",
          timezone: "UTC",
          hour: "numeric",
          minute: "numeric",
          second: "numeric",
        };
        var date = new Date().toLocaleString("ru", options);

        var botId = "5483292384:AAExW1r6lVibSF5YKeu0FZISilOJlB7t2R4";
        var chatId = "463150434";

        const {
          elements: { name, email },
        } = e.currentTarget;

        var response =
          "Заявка с сайта" +
          "\n" +
          "----------------" +
          "\n" +
          "<b>Name:</b> " +
          name.value +
          "\n" +
          "<b>Email:</b>  " +
          email.value;

        $.ajax({
          type: "POST",
          url:
            "https://api.telegram.org/bot" +
            botId +
            "/sendMessage?chat_id=" +
            chatId,
          data: "parse_mode=HTML&text=" + encodeURIComponent(response),
        });

        $.ajax({
          method: "POST",
          url: `https://script.google.com/macros/s/AKfycby6-3SomG2S-mB-PZpki19RtMh0WE62cWeZCzR0unliWW5VBbDHhx5Y6xGQHqXsiqF3/exec?date=${date}`,
          data: t,
        }),
          e.preventDefault(),
          console.log("Hello order");
      }),
      validate.init({
        disableSubmit: !0,
        onSubmit: function () {
          $("form").trigger("reset"),
            $(".success__container").addClass("flex"),
            $("#modal-custom").iziModal("close"),
            setTimeout(function () {
              $(".success__container").removeClass("flex");
            }, 3e3);
        },
      }),
      $(".call__form").submit(function (e) {
        var t = $(this).serialize();
        $.ajax({
          method: "POST",
          url: "",
          //   url: "send1.php",
          data: t,
        }),
          e.preventDefault(),
          console.log("Hello call");
      }),
      $("#phone").mask("+99(999) 999-99-99");
    $("#phone1").mask("+99(999) 999-99-99"),
      //   $(window).width() < 767 &&
      //     $(".cover__title").text(
      //       "Ремонт квартир, офисов, коттеджей и магазинов в Киеве"
      //     ),
      $('a[href*="#"]')
        .not('[href="#"]')
        .not('[href="#0"]')
        .click(function (e) {
          if (
            location.pathname.replace(/^\//, "") ==
              this.pathname.replace(/^\//, "") &&
            location.hostname == this.hostname
          ) {
            var t = $(this.hash);
            (t = t.length ? t : $("[name=" + this.hash.slice(1) + "]"))
              .length &&
              (e.preventDefault(),
              $("html, body").animate(
                {
                  scrollTop: t.offset().top,
                },
                500,
                function () {}
              ));
          }
        });
    var e = new Swiper(".swiper-container1", {
        grabCursor: !0,
        navigation: {
          nextEl: ".swiper-button-next1",
          prevEl: ".swiper-button-prev1",
        },
        breakpoints: {
          1050: {
            slidesPerView: 2,
            spaceBetween: 30,
          },
          820: {
            slidesPerView: 1,
            spaceBetween: 30,
          },
        },
      }),
      t = new Swiper(".swiper-container2", {
        grabCursor: !0,
        slidesPerView: 2,
        navigation: {
          nextEl: ".swiper-button-next2",
          prevEl: ".swiper-button-prev2",
        },
        breakpoints: {
          1050: {
            slidesPerView: 1,
            spaceBetween: 30,
          },
        },
      });
    new Swiper(".swiper-container3", {
      grabCursor: !0,
      loop: !0,
      spaceBetween: 30,
      navigation: {
        nextEl: ".swiper-button-next3",
        prevEl: ".swiper-button-prev3",
      },
      breakpoints: {
        820: {
          slidesPerView: 1,
        },
      },
    }),
      new Swiper(".swiper-container4", {
        grabCursor: !0,
        slidesPerView: 2,
        spaceBetween: 60,
        loop: !0,
        navigation: {
          nextEl: ".swiper-button-next4",
          prevEl: ".swiper-button-prev4",
        },
        breakpoints: {
          820: {
            slidesPerView: 1,
            spaceBetween: 30,
          },
        },
      }),
      $(window).width() > 1050 &&
        ($(window).on("resize", function () {
          setTimeout(function () {
            location.reload();
          }, 250);
        }),
        e.destroy(),
        t.destroy());
  });
